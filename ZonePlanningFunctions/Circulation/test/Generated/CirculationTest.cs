
// This code was generated by Hypar.
// Edits to this code will be overwritten the next time you run 'hypar test generate'.
// DO NOT EDIT THIS FILE.

using Elements;
using Xunit;
using System.IO;
using System.Collections.Generic;
using Elements.Serialization.glTF;

namespace Circulation
{
    public class CirculationTest
    {
        [Fact]
        public void TestExecute()
        {
            var input = GetInput();

            var modelDependencies = new Dictionary<string, Model> { 
                {"Levels", Model.FromJson(File.ReadAllText(@"/Users/andrewheumann/Dev/HyparSpace/ZonePlanningFunctions/Circulation/test/Generated/CirculationTest/model_dependencies/Levels/8c23b664-e737-46af-8a98-09a33c37396b.json")) }, 
                {"Floors", Model.FromJson(File.ReadAllText(@"/Users/andrewheumann/Dev/HyparSpace/ZonePlanningFunctions/Circulation/test/Generated/CirculationTest/model_dependencies/Floors/7c41f2ae-a1d8-4e76-8b64-11720d66693f.json")) }, 
                {"Core", Model.FromJson(File.ReadAllText(@"/Users/andrewheumann/Dev/HyparSpace/ZonePlanningFunctions/Circulation/test/Generated/CirculationTest/model_dependencies/Core/549fbf1d-9100-44a7-9532-d87f71dc3fe6.json")) }, 
            };

            var result = Circulation.Execute(modelDependencies, input);
            result.Model.ToGlTF("../../../Generated/CirculationTest/results/CirculationTest.gltf", false);
            result.Model.ToGlTF("../../../Generated/CirculationTest/results/CirculationTest.glb");
            File.WriteAllText("../../../Generated/CirculationTest/results/CirculationTest.json", result.Model.ToJson());
        }

        public CirculationInputs GetInput()
        {
            var inputText = @"
            {
  ""Circulation Mode"": ""Automatic"",
  ""Add Corridors"": [],
  ""Depth at Ends"": 8,
  ""Corridor Width"": 1.5,
  ""Outer Band Depth"": 6,
  ""model_input_keys"": {
    ""Levels"": ""8c23b664-e737-46af-8a98-09a33c37396b_61dbb9f8-aaae-4295-9112-c8ae81655361_elements.zip"",
    ""Floors"": ""7c41f2ae-a1d8-4e76-8b64-11720d66693f_31ec3b95-5062-47b9-a1e0-e3550bf7e2d1_elements.zip"",
    ""Core"": ""549fbf1d-9100-44a7-9532-d87f71dc3fe6_a9cac5a1-f68d-4d2e-bfdd-0d204359bbe4_elements.zip""
  },
  ""overrides"": {
    ""additions"": {
      ""Corridors"": [
        {
          ""value"": {
            ""Geometry"": {
              ""width"": 1.5,
              ""flip"": false,
              ""polyline"": {
                ""Vertices"": [
                  {
                    ""X"": 23.139966327378957,
                    ""Y"": -53.373559881913096,
                    ""Z"": 0
                  },
                  {
                    ""X"": 80.16754890182429,
                    ""Y"": -44.766572573673876,
                    ""Z"": 0
                  }
                ],
                ""discriminator"": ""Elements.Geometry.Polyline""
              },
              ""rightWidth"": 1.5
            },
            ""Level"": {
              ""Scope"": {
                ""Inclusive"": true,
                ""Camera"": {
                  ""angle"": {
                    ""X"": 0,
                    ""Y"": 0,
                    ""Z"": 0
                  },
                  ""projection"": ""orthographic"",
                  ""named_position"": ""top"",
                  ""discriminator"": ""Elements.Camera""
                },
                ""Id"": ""c6cbfefb-374f-46b6-98cd-98c18a661d7c"",
                ""Bounding Box"": {
                  ""Max"": {
                    ""X"": 92.83594973680226,
                    ""Y"": 18.811938801356085,
                    ""Z"": 6.8396845944593165
                  },
                  ""Min"": {
                    ""X"": 12.786895411575305,
                    ""Y"": -91.78545238053181,
                    ""Z"": 3.8396845944593165
                  },
                  ""discriminator"": ""Elements.Geometry.BBox3""
                },
                ""discriminator"": ""Elements.ViewScope"",
                ""Name"": ""Level 2""
              },
              ""discriminator"": ""Elements.ActiveViewScopeInfo"",
              ""Source Element"": {
                ""Area"": 6383.791672784049,
                ""Plan View"": {
                  ""Inclusive"": true,
                  ""Camera"": {
                    ""angle"": {
                      ""X"": 0,
                      ""Y"": 0,
                      ""Z"": 0
                    },
                    ""projection"": ""orthographic"",
                    ""named_position"": ""top"",
                    ""discriminator"": ""Elements.Camera""
                  },
                  ""Id"": ""c6cbfefb-374f-46b6-98cd-98c18a661d7c"",
                  ""Bounding Box"": {
                    ""Max"": {
                      ""X"": 92.83594973680226,
                      ""Y"": 18.811938801356085,
                      ""Z"": 6.8396845944593165
                    },
                    ""Min"": {
                      ""X"": 12.786895411575305,
                      ""Y"": -91.78545238053181,
                      ""Z"": 3.8396845944593165
                    },
                    ""discriminator"": ""Elements.Geometry.BBox3""
                  },
                  ""discriminator"": ""Elements.ViewScope"",
                  ""Name"": ""Level 2""
                },
                ""IsElementDefinition"": false,
                ""Height"": 4,
                ""Material"": {
                  ""SpecularFactor"": 1,
                  ""DoubleSided"": false,
                  ""RepeatTexture"": true,
                  ""GlossinessFactor"": 1,
                  ""InterpolateTexture"": true,
                  ""Color"": {
                    ""Red"": 1,
                    ""Alpha"": 0.20000000298023224,
                    ""Blue"": 1,
                    ""Green"": 1
                  },
                  ""Id"": ""28c5c2b1-d65c-4c46-8689-d651f50f07e7"",
                  ""discriminator"": ""Elements.Material"",
                  ""Unlit"": false,
                  ""Name"": ""glass""
                },
                ""Representation"": {
                  ""SolidOperations"": [
                    {
                      ""IsVoid"": false,
                      ""Height"": 4,
                      ""Direction"": {
                        ""X"": 0,
                        ""Y"": 0,
                        ""Z"": 1
                      },
                      ""Profile"": {
                        ""Voids"": [],
                        ""Perimeter"": {
                          ""discriminator"": ""Elements.Geometry.Polygon"",
                          ""Vertices"": [
                            {
                              ""X"": 23.00916149556007,
                              ""Y"": 18.811938801356085,
                              ""Z"": 0
                            },
                            {
                              ""X"": 12.786895411575305,
                              ""Y"": -91.78545238053181,
                              ""Z"": 0
                            },
                            {
                              ""X"": 77.72951878194863,
                              ""Y"": -89.73358578641432,
                              ""Z"": 0
                            },
                            {
                              ""X"": 92.83594973680226,
                              ""Y"": -17.249814213272558,
                              ""Z"": 0
                            }
                          ]
                        },
                        ""Id"": ""ba317326-457e-475c-b5e0-62977a884ae0"",
                        ""AdditionalProperties"": null,
                        ""Name"": null,
                        ""discriminator"": ""Elements.Geometry.Profile""
                      },
                      ""discriminator"": ""Elements.Geometry.Solids.Extrude"",
                      ""LocalTransform"": null
                    }
                  ]
                },
                ""Id"": ""43f40eee-3a66-40ce-8b63-5fdef96b8d83"",
                ""Transform"": {
                  ""Matrix"": {
                    ""Components"": [
                      1,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      1,
                      3.8396845944593165
                    ]
                  }
                },
                ""Profile"": {
                  ""Voids"": [],
                  ""Perimeter"": {
                    ""discriminator"": ""Elements.Geometry.Polygon"",
                    ""Vertices"": [
                      {
                        ""X"": 23.00916149556007,
                        ""Y"": 18.811938801356085,
                        ""Z"": 0
                      },
                      {
                        ""X"": 12.786895411575305,
                        ""Y"": -91.78545238053181,
                        ""Z"": 0
                      },
                      {
                        ""X"": 77.72951878194863,
                        ""Y"": -89.73358578641432,
                        ""Z"": 0
                      },
                      {
                        ""X"": 92.83594973680226,
                        ""Y"": -17.249814213272558,
                        ""Z"": 0
                      }
                    ]
                  },
                  ""Id"": ""ba317326-457e-475c-b5e0-62977a884ae0"",
                  ""AdditionalProperties"": null,
                  ""Name"": null,
                  ""discriminator"": ""Elements.Geometry.Profile""
                },
                ""discriminator"": ""Elements.LevelVolume"",
                ""Name"": ""Level 2""
              }
            }
          },
          ""id"": ""dd611de8-a092-4afd-a991-16518a1ecbcb""
        }
      ]
    },
    ""Corridors"": [
      {
        ""value"": {
          ""Geometry"": {
            ""width"": 1.5,
            ""flip"": false,
            ""polyline"": {
              ""Vertices"": [
                {
                  ""X"": 23.139966327378957,
                  ""Y"": -53.373559881913096,
                  ""Z"": 0
                },
                {
                  ""X"": 72.29915982366191,
                  ""Y"": -30.526310038924123,
                  ""Z"": 0
                }
              ],
              ""discriminator"": ""Elements.Geometry.Polyline""
            },
            ""rightWidth"": 1.5
          }
        },
        ""identity"": {
          ""Original Geometry"": {
            ""discriminator"": ""Elements.Geometry.Polyline"",
            ""Vertices"": [
              {
                ""X"": 23.139966327378957,
                ""Y"": -53.373559881913096,
                ""Z"": 3.8396845944593165
              },
              {
                ""X"": 80.16754890182429,
                ""Y"": -44.766572573673876,
                ""Z"": 3.8396845944593165
              }
            ]
          },
          ""Level"": {
            ""Area"": 6383.791672784049,
            ""Plan View"": ""c6cbfefb-374f-46b6-98cd-98c18a661d7c"",
            ""IsElementDefinition"": false,
            ""Height"": 4,
            ""Material"": ""28c5c2b1-d65c-4c46-8689-d651f50f07e7"",
            ""Representation"": {
              ""SolidOperations"": [
                {
                  ""IsVoid"": false,
                  ""Height"": 4,
                  ""Direction"": {
                    ""X"": 0,
                    ""Y"": 0,
                    ""Z"": 1
                  },
                  ""Profile"": ""ba317326-457e-475c-b5e0-62977a884ae0"",
                  ""discriminator"": ""Elements.Geometry.Solids.Extrude"",
                  ""LocalTransform"": null
                }
              ]
            },
            ""Id"": ""43f40eee-3a66-40ce-8b63-5fdef96b8d83"",
            ""Transform"": {
              ""Matrix"": {
                ""Components"": [
                  1,
                  0,
                  0,
                  0,
                  0,
                  1,
                  0,
                  0,
                  0,
                  0,
                  1,
                  3.8396845944593165
                ]
              }
            },
            ""Profile"": ""ba317326-457e-475c-b5e0-62977a884ae0"",
            ""discriminator"": ""Elements.LevelVolume"",
            ""Name"": ""Level 2""
          }
        },
        ""id"": ""32e3ba0f-4cf0-47f5-b894-3cbc44e57414""
      }
    ]
  }
}
            ";
            return Newtonsoft.Json.JsonConvert.DeserializeObject<CirculationInputs>(inputText);
        }
    }
}