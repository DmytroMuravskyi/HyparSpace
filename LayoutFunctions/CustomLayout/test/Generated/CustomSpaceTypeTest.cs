
// This code was generated by Hypar.
// Edits to this code will be overwritten the next time you run 'hypar test generate'.
// DO NOT EDIT THIS FILE.

using Elements;
using Xunit;
using System.IO;
using System.Collections.Generic;
using Elements.Serialization.glTF;

namespace CustomSpaceType
{
    public class CustomSpaceTypeTest
    {
        [Fact]
        public void TestExecute()
        {
            var input = GetInput();

            var modelDependencies = new Dictionary<string, Model> {
                {"Levels", Model.FromJson(File.ReadAllText(@"/Users/andrewheumann/Dev/HyparSpace/LayoutFunctions/CustomLayout/test/Generated/CustomSpaceTypeTest/model_dependencies/Levels/model.json")) },
                {"Space Planning Zones", Model.FromJson(File.ReadAllText(@"/Users/andrewheumann/Dev/HyparSpace/LayoutFunctions/CustomLayout/test/Generated/CustomSpaceTypeTest/model_dependencies/Space Planning Zones/model.json")) },
            };

            var result = CustomSpaceType.Execute(modelDependencies, input);
            result.Model.ToGlTF("../../../Generated/CustomSpaceTypeTest/results/CustomSpaceTypeTest.glb");
            File.WriteAllText("../../../Generated/CustomSpaceTypeTest/results/CustomSpaceTypeTest.json", result.Model.ToJson());
        }

        public CustomSpaceTypeInputs GetInput()
        {
            var inputText = @"
            {
  ""Layouts"": [
    {
      ""Space Type"": ""Foo"",
      ""Catalog"": ""https://hypar-content-catalogs.s3.us-west-2.amazonaws.com/5e796702-15a4-47bb-bbfa-1dfa3f6db835/Lounge-5e796702-15a4-47bb-bbfa-1dfa3f6db835-model.json"",
      ""Walls"": [
        {
          ""width"": 0.15,
          ""flip"": false,
          ""polyline"": {
            ""Vertices"": [
              {
                ""X"": 52.527437149395695,
                ""Y"": -4.746215581534738,
                ""Z"": 0
              },
              {
                ""X"": 55.4622740967664,
                ""Y"": -4.746215581534738,
                ""Z"": 0
              },
              {
                ""X"": 55.4622740967664,
                ""Y"": -8.952519343065713,
                ""Z"": 0
              }
            ],
            ""discriminator"": ""Elements.Geometry.Polyline""
          },
          ""rightWidth"": 0.15
        }
      ],
      ""Boundary"": {
        ""Vertices"": [
          {
            ""X"": 61.08061155844498,
            ""Y"": -8.952519343065713,
            ""Z"": 0
          },
          {
            ""X"": 61.08061155844498,
            ""Y"": -0.6771066425404034,
            ""Z"": 0
          },
          {
            ""X"": 52.527437149395695,
            ""Y"": -0.6771066425404015,
            ""Z"": 0
          },
          {
            ""X"": 52.527437149395695,
            ""Y"": -8.952519343065713,
            ""Z"": 0
          }
        ],
        ""discriminator"": ""Elements.Geometry.Polygon""
      }
    }
  ],
  ""model_input_keys"": {
    ""Levels"": ""fa9a2f9e-0dd8-4179-9119-b57a2b24377c_61dbb9f8-aaae-4295-9112-c8ae81655361_elements.zip"",
    ""Space Planning Zones"": ""823f0347-ca55-40ea-b8db-95c25dcf3395_221c8fd0-aca1-4165-aae6-3b332bc65025_elements.zip""
  },
  ""overrides"": {
    ""Transform"": [
      {
        ""value"": {
          ""Transform"": {
            ""Matrix"": {
              ""Components"": [
                1,
                0,
                0,
                60.34903607244028,
                0,
                1,
                0,
                -2.4463697269543885,
                0,
                0,
                1,
                -1.1934897514720433E-15
              ]
            }
          }
        },
        ""identity"": {
          ""Name"": ""Foo: Viccarbe - Shape Table Model O - 0.377 m x 0.377 m 0""
        },
        ""id"": ""5215cefa-e157-4409-8ca0-d9452dc8b673""
      },
      {
        ""value"": {
          ""Transform"": {
            ""Matrix"": {
              ""Components"": [
                -6.123233995736766E-17,
                1,
                0,
                60.73780710009883,
                -1,
                -6.123233995736766E-17,
                2.936953930726315E-16,
                -1.2006671973393646,
                2.9369539307263153E-16,
                4.930380657631324E-32,
                1,
                -1.942890293094024E-16
              ]
            }
          }
        },
        ""identity"": {
          ""Name"": ""Foo: Steelcase - Seating - Umami - Lounge - Arm - Single - Two Arm 0""
        },
        ""id"": ""9a03bd2a-c171-4f19-9557-3934e92d8969""
      },
      {
        ""value"": {
          ""Transform"": {
            ""Matrix"": {
              ""Components"": [
                1,
                6.123233995736766E-17,
                -9.077172821742574E-16,
                54.582490904652445,
                -6.123233995736766E-17,
                1,
                0,
                -3.049615598914071,
                9.077172821742576E-16,
                1.9721522630525295E-31,
                1,
                -2.220446049250313E-15
              ]
            }
          }
        },
        ""identity"": {
          ""Name"": ""Foo: Blu Dot - Right On Rug - 1.829 m x 2.743 m 0""
        },
        ""id"": ""4d0b34b6-a784-41fe-a928-4ceb6e9cf64a""
      },
      {
        ""value"": {
          ""Transform"": {
            ""Matrix"": {
              ""Components"": [
                6.123233995736766E-17,
                -1,
                0,
                53.659680260858146,
                1,
                6.123233995736766E-17,
                9.214423501925665E-16,
                -4.103982547494013,
                -9.214423501925667E-16,
                -1.9721522630525295E-31,
                1,
                3.0253577421035516E-15
              ]
            }
          }
        },
        ""identity"": {
          ""Name"": ""Foo: Steelcase - Media Scape - Lounge - Straight Inverted - Same Upholstery 0""
        },
        ""id"": ""9bee348e-0b73-4de4-9416-f4bcb3a83e1f""
      }
    ]
  }
}
            ";
            return Newtonsoft.Json.JsonConvert.DeserializeObject<CustomSpaceTypeInputs>(inputText);
        }
    }
}